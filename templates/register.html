{% extends "base.html" %}

{% block title %}Register | Lumina Host{% endblock %}

{% block content %}
<div class="max-w-md mx-auto">
    <div class="glass-panel rounded-2xl p-8 shadow-xl border border-white/10">
        <h1 class="text-2xl font-bold text-white mb-2 tracking-tight">Create account</h1>
        <p class="text-slate-400 text-sm mb-8">Register to upload and manage assets.</p>

        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <div class="mb-6 flex flex-col gap-2">
                    {% for message in messages %}
                        <div class="glass-panel px-4 py-3 rounded-lg border-l-4 border-rose-400 text-slate-200 text-sm">
                            {{ message }}
                        </div>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}

        <form method="post" action="{{ url_for('register') }}" class="flex flex-col gap-5">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

            <div>
                <label for="username" class="block text-sm font-medium text-slate-300 mb-2">Username</label>
                <input type="text" id="username" name="username" required maxlength="64" autocomplete="username"
                       class="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50">
            </div>

            <div>
                <label for="email" class="block text-sm font-medium text-slate-300 mb-2">Email</label>
                <input type="email" id="email" name="email" required maxlength="256" autocomplete="email"
                       class="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50">
            </div>

            <div>
                <label for="password" class="block text-sm font-medium text-slate-300 mb-2">Password</label>
                <input type="password" id="password" name="password" required minlength="8" autocomplete="new-password"
                       class="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50">
                <p class="mt-1 text-xs text-slate-500">At least 8 characters, one letter and one digit.</p>
            </div>

            <button type="submit" class="w-full py-3 rounded-xl bg-gradient-to-r from-emerald-500 to-indigo-500 text-white font-semibold hover:from-emerald-400 hover:to-indigo-400 transition-all shadow-lg shadow-emerald-500/20">
                Create account
            </button>
        </form>

        <p class="mt-6 text-center text-slate-500 text-sm">
            <a href="{{ url_for('login') }}" class="text-emerald-400 hover:text-emerald-300">Sign in</a>
            &middot; <a href="{{ url_for('index') }}" class="text-indigo-400 hover:text-indigo-300">Back to gallery</a>
        </p>
    </div>
</div>
{% endblock %}
